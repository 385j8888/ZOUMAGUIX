local a=tostring(game.Players.LocalPlayer.Character);
if a=="lingjuyei"then
_G.white=true
elseif a=="385jjj8"then
_G.white=true
elseif a=="Robloxiana6c9q6w2c"then
_G.white=true
elseif a=="honghaog"then
_G.white=true
elseif a=="eudujhlz"then
_G.white=true
elseif a=="guanx123456"then
_G.white=true
elseif a=="xhsans"then
_G.white=true
elseif a=="sanxulou"then
_G.white=true
elseif a=="Invincib14yiiii"then
_G.white=true
elseif a=="Lnorais"then
_G.white=true
elseif a=="vzxhdu5"then
_G.white=true
elseif a=="dkmdfna"then
_G.white=true
elseif a=="woai_HEISI"then
_G.white=true
elseif a=="HuangXiGui_SiMale"then
_G.white=true
elseif a=="givegvyt"then
_G.white=true
elseif a=="pznpznpznpzn1"then
_G.white=true
elseif a=="azsdxcxz"then
_G.white=true
elseif a=="dgfgugjvcut"then
_G.white=true
elseif a=="bolt61584"then
_G.white=true
elseif a=="CN_laoda84"then
_G.white=true
elseif a=="zjpndjfkz"then
_G.white=true
elseif a=="kiad70koko0"then
_G.white=true
elseif a=="WBCA1594"then
_G.white=true
elseif a=="Judgealph404"then
_G.white=true
elseif a=="tgb54155555555"then
_G.white=true
elseif a=="jjjb995"then
_G.white=true
elseif a=="huan_muyu"then
_G.white=true
elseif a=="XiaoFeng1451"then
_G.white=true
elseif a=="jogfyienvgw"then
_G.white=true
elseif a=="fengmlin"then
_G.white=true
elseif a=="tianzhirong18"then
_G.white=true
elseif a=="123ekszk"then
_G.white=true
elseif a=="sjcm43"then
_G.white=true
elseif a=="laksjdhfg25864"then
_G.white=true
elseif a=="YDJ559"then
_G.white=true
elseif a=="LimbusCompany_12"then
_G.white=true
elseif a=="fgdbg37"then
_G.white=true
elseif a=="iwiwjsjsjsjsns"then
_G.white=true
elseif a=="Gggccesz"then
_G.white=true
elseif a=="mkllmklli"then
_G.white=true
elseif a=="sAyujkk1s"then
_G.white=true
elseif a=="qawsedrf11451421"then
_G.white=true
elseif a=="GBwcnm"then
_G.white=true
elseif a=="mybsdsb"then
_G.white=true
elseif a=="354354ewq"then
_G.white=true
elseif a=="xiaosi145"then
_G.white=true
elseif a=="wuzhikai123"then
_G.white=true
elseif a=="zhangjinpeng7951www"then
_G.white=true
elseif a=="VEARwarwar"then
_G.white=true
elseif a=="yauomaoj"then
_G.white=true
elseif a=="pq7891qp"then
_G.white=true
elseif a=="TGS_0018"then
_G.white=true
elseif a=="CN_99977"then
_G.white=true
elseif a=="HDHV6R"then
_G.white=true
elseif a=="ikua1U"then
_G.white=true
elseif a=="sksk12352"then
_G.white=true
elseif a=="qiufene114514"then
_G.white=true
elseif a=="Tuantus84"then
_G.white=true
elseif a=="gjxfhnvChina"then
_G.white=true
elseif a=="yuzhifangcun"then
_G.white=true
elseif a=="D0N_QUIX0TE"then
_G.white=true
elseif a=="lix14514"then
_G.white=true
elseif a=="cythjidon114511"then
_G.white=true
elseif a=="godddd114514"then
_G.white=true
elseif a=="zgq374"then
_G.white=true
elseif a=="DAsama810"then
_G.white=true
elseif a=="vvhb58866"then
_G.white=true
elseif a=="M870707"then
_G.white=true
elseif a=="kongbai_2001"then
_G.white=true
elseif a=="hxnewyh"then
_G.white=true
elseif a=="windujasu"then
_G.white=true
elseif a=="inkwyx"then
_G.white=true
elseif a=="Renko2258"then
_G.white=true
elseif a=="trainstand"then
_G.white=true
elseif a=="wjch379"then
_G.white=true
elseif a=="Blil_CNPOPCATLOL"then
_G.white=true
elseif a=="hi32mop"then
_G.white=true
elseif a=="LAUKXC"then
_G.white=true
elseif a=="dekwapp"then
_G.white=true
elseif a=="www323www"then
_G.white=true
elseif a=="killaother"then
_G.white=true
elseif a=="cwcwlla"then
_G.white=true
elseif a=="LZY_OceanLove"then
_G.white=true
elseif a=="5754568vc"then
_G.white=true
elseif a=="DUCK_BANK"then
_G.white=true
elseif a=="wsqiiyue"then
_G.white=true
elseif a=="385jjj11"then
_G.white=true
elseif a=="rhddr91"then
_G.white=true
elseif a=="RIP_Yehenara"then
_G.white=true
elseif a=="oppo232368"then
_G.white=true
elseif a=="jkri1333"then
_G.white=true
end
if _G.white==true then
    print("È™åËØÅÊàêÂäü")
else --È™åËØÅÂ§±Ë¥•ÊâßË°å‚Üì
--setclipboard("2586125757")
   game.Players.LocalPlayer:Kick(a.."‰Ω†Ê≤°ÊúâÁôΩÂêçÂçïÔºåÂä†QQ:2586125757ÔºåÊâæËøô‰∏™‰∫∫‰π∞ÁôΩÂêçÂçï")
   
   wait(0.1)
   while true do
       print("eeeeeeeeee")
   end
end


if _G.white==true then
    print("È™åËØÅÊàêÂäü")
else --È™åËØÅÂ§±Ë¥•ÊâßË°å‚Üì
   wait(0.1)
   while true do
       wait(0.0001)
       loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E6%A0%B8%E5%AF%BC%E5%BC%B9%E9%95%BF%E8%BE%BE5000%E5%A4%9A%E6%95%B0%E6%8D%AE%E8%83%BD%E8%AE%A9%E4%BD%A0%E6%94%BE%E4%B8%80%E4%B8%AA%E6%A0%B8%E5%BC%B9.txt"))()
   end
end

-- ÂèçHTTPÈó¥Ë∞çËÑöÊú¨
-- Áî®‰∫éÊ£ÄÊµãÂíåË≠¶ÂëäHTTPËØ∑Ê±ÇÂä´ÊåÅË°å‰∏∫

local function createProtection()
    -- ‰øùÂ≠òÂéüÂßãÂáΩÊï∞ÂºïÁî®
    local originalFunctions = {
        HttpGet = game.HttpGet,
        HttpGetAsync = game.HttpGetAsync,
        HttpPost = game.HttpPost,
        HttpPostAsync = game.HttpPostAsync
    }
    
    -- Ê£ÄÊü•ÂÖ®Â±ÄÁéØÂ¢É‰∏≠ÁöÑHTTPÁõ∏ÂÖ≥ÂáΩÊï∞
    local httpFunctionsToCheck = {
        "http_request", "request", "HttpGet", "HttpGetAsync", 
        "HttpPost", "HttpPostAsync"
    }
    
    -- Â≠òÂÇ®ÂéüÂßãÂáΩÊï∞ÁöÑÁéØÂ¢É
    local originalEnv = {}
    for _, funcName in ipairs(httpFunctionsToCheck) do
        if _G[funcName] then
            originalEnv[funcName] = _G[funcName]
        end
    end
    
    -- Ê£ÄÊµãÂáΩÊï∞ÊòØÂê¶Ë¢´ÁØ°Êîπ
    local function checkFunctionTampering()
        for _, funcName in ipairs(httpFunctionsToCheck) do
            if _G[funcName] and originalEnv[funcName] then
                if tostring(_G[funcName]) ~= tostring(originalEnv[funcName]) then
                    return true, funcName
                end
            elseif _G[funcName] and not originalEnv[funcName] then
                -- Êñ∞Ê∑ªÂä†ÁöÑÂáΩÊï∞ÂèØËÉΩÊòØÊÅ∂ÊÑèÊ≥®ÂÖ•
                return true, funcName
            end
        end
        return false
    end
    
    -- ÂàõÂª∫ÂÆâÂÖ®ÂåÖË£ÖÂáΩÊï∞
    local function createSafeWrapper(originalFunc, funcName)
        return function(...)
            -- Âú®ÊâßË°åÂâçÊ£ÄÊü•ÁéØÂ¢É
            local isTampered, tamperedFunc = checkFunctionTampering()
            if isTampered then
                game.Players.LocalPlayer:Kick("HttpSpyÂä´ÊåÅÈìæÊé•üíÄBro Stop")
            end
            
            -- Ë∞ÉÁî®ÂéüÂßãÂáΩÊï∞
            return originalFunc(...)
        end
    end
    
    -- Â∫îÁî®ÂÆâÂÖ®ÂåÖË£Ö
    for _, funcName in ipairs(httpFunctionsToCheck) do
        if _G[funcName] and type(_G[funcName]) == "function" then
            _G[funcName] = createSafeWrapper(_G[funcName], funcName)
        end
    end
    
    -- ÂÆöÊúüÊ£ÄÊü•ÁéØÂ¢É
    local checkInterval = 0.01 -- ÊØè5ÁßíÊ£ÄÊü•‰∏ÄÊ¨°
    while true do
        local isTampered, tamperedFunc = checkFunctionTampering()
        if isTampered then
            game.Players.LocalPlayer:Kick("HttpSpyÂä´ÊåÅÈìæÊé•üíÄBro Stop")
        end
        
        wait(checkInterval)
    end
end



local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = game:GetService("CoreGui")

-- ÂàõÂª∫‰∏ªUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AbnormalityManager"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- ‰∏ªÂÆπÂô®Ê°ÜÊû∂
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0.8, 0, 0.8, 0)
mainFrame.Position = UDim2.new(0.1, 0, 0.15, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
mainFrame.BackgroundTransparency = 0.3
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Parent = screenGui

-- ÂúÜËßíÊïàÊûú
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0.03, 0)
corner.Parent = mainFrame

-- Ê†áÈ¢òÊ†èÔºàÁî®‰∫éÊãñÂä®Ôºâ
local dragBar = Instance.new("Frame")
dragBar.Name = "DragBar"
dragBar.Size = UDim2.new(1, 0, 0.08, 0)
dragBar.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
dragBar.BorderSizePixel = 0
dragBar.Parent = mainFrame

local dragBarCorner = Instance.new("UICorner")
dragBarCorner.CornerRadius = UDim.new(0, 8)
dragBarCorner.Parent = dragBar

local title = Instance.new("TextLabel")
title.Name = "Title"
title.Text = "ÂºÇÊÉ≥‰ΩìÂ∑•‰ΩúÁÆ°ÁêÜ--Ëµ∞È©¨ËßÇËä±"
title.TextColor3 = Color3.fromRGB(220, 220, 255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold
title.Size = UDim2.new(0.7, 0, 0.8, 0)
title.Position = UDim2.new(0.15, 0, 0.1, 0)
title.BackgroundTransparency = 1
title.Parent = dragBar

-- ÊªöÂä®Ê°ÜÊû∂Áî®‰∫éÂÆπÁ∫≥ÊâÄÊúâÂºÇÊÉ≥‰ΩìUI
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Name = "ScrollFrame"
scrollFrame.Size = UDim2.new(0.95, 0, 0.88, 0)
scrollFrame.Position = UDim2.new(0.025, 0, 0.1, 0)
scrollFrame.BackgroundTransparency = 1
scrollFrame.ScrollBarThickness = 6
scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.Parent = mainFrame

-- UIÁΩëÊ†ºÂ∏ÉÂ±ÄÔºàÊØèË°å‰∏§‰∏™Ê®°ÂùóÔºâ
local uiGridLayout = Instance.new("UIGridLayout")
uiGridLayout.CellSize = UDim2.new(0.5, -10, 0, 140)  -- ÊØèË°å‰∏§‰∏™Ê®°Âùó
uiGridLayout.CellPadding = UDim2.new(0.02, 0, 0.02, 0)
uiGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiGridLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
uiGridLayout.FillDirectionMaxCells = 2  -- ÊØèË°åÊúÄÂ§ö‰∏§‰∏™
uiGridLayout.Parent = scrollFrame

-- ÊòæÁ§∫/ÈöêËóèÊåâÈíÆ
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0.15, 0, 0.08, 0)
toggleButton.Position = UDim2.new(0.01, 0, 0.01, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 100)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Text = "‚â°"
toggleButton.TextScaled = true
toggleButton.Font = Enum.Font.GothamBold
toggleButton.BorderSizePixel = 0
toggleButton.Transparency = 0.2
toggleButton.Parent = screenGui

local toggleButtonCorner = Instance.new("UICorner")
toggleButtonCorner.CornerRadius = UDim.new(0.3, 0)
toggleButtonCorner.Parent = toggleButton

-- ÂàõÂª∫Âçï‰∏™ÂºÇÊÉ≥‰ΩìUIÊ®°ÊùøÁöÑÂáΩÊï∞
local function createAbnormalityUI(abnormalityName)
    local frame = Instance.new("Frame")
    frame.Name = abnormalityName
    frame.Size = UDim2.new(1, 0, 0, 140)  -- È´òÂ∫¶Â¢ûÂä†‰ª•ÈÄÇÂ∫î‰∏§Ë°åÊåâÈíÆ
    frame.BackgroundColor3 = Color3.fromRGB(45, 45, 60)
    frame.BackgroundTransparency = 0.2
    frame.LayoutOrder = 1
    frame.Parent = scrollFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0.05, 0)
    corner.Parent = frame
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Name = "NameLabel"
    nameLabel.Text = abnormalityName
    nameLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
    nameLabel.TextScaled = true
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
    nameLabel.Position = UDim2.new(0.05, 0, 0.05, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Parent = frame
    
    -- ÂàõÂª∫ÊåâÈíÆÂÆπÂô®Ôºà‰∏äÈù¢‰∏§‰∏™ÊåâÈíÆÔºâ
    local topButtonFrame = Instance.new("Frame")
    topButtonFrame.Name = "TopButtons"
    topButtonFrame.Size = UDim2.new(0.9, 0, 0.3, 0)
    topButtonFrame.Position = UDim2.new(0.05, 0, 0.3, 0)
    topButtonFrame.BackgroundTransparency = 1
    topButtonFrame.Parent = frame
    
    -- ÂàõÂª∫ÊåâÈíÆÂÆπÂô®Ôºà‰∏ãÈù¢‰∏§‰∏™ÊåâÈíÆÔºâ
    local bottomButtonFrame = Instance.new("Frame")
    bottomButtonFrame.Name = "BottomButtons"
    bottomButtonFrame.Size = UDim2.new(0.9, 0, 0.3, 0)
    bottomButtonFrame.Position = UDim2.new(0.05, 0, 0.65, 0)
    bottomButtonFrame.BackgroundTransparency = 1
    bottomButtonFrame.Parent = frame
    
    -- ÂàõÂª∫Âõõ‰∏™ÂºÄÂÖ≥ÊåâÈíÆ
    local buttons = {}
    local buttonTypes = {"Êú¨ËÉΩ", "Ê¥ûÂØü", "Ê≤üÈÄö", "ÂéãËø´"}
    local buttonColors = {
        Color3.fromRGB(200, 60, 60),   -- Êú¨ËÉΩ
        Color3.fromRGB(230, 230, 230), -- Ê¥ûÂØü
        Color3.fromRGB(128, 0, 128),   -- Ê≤üÈÄö
        Color3.fromRGB(60, 150, 200)   -- ÂéãËø´
    }
    local workTypes = {"Instinct", "Insight", "Attachment", "Repression"}
    
    for i, btnType in ipairs(buttonTypes) do
        local button = Instance.new("TextButton")
        button.Name = workTypes[i]
        button.Text = btnType
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.TextScaled = true
        button.Font = Enum.Font.GothamBold
        button.Size = UDim2.new(0.48, 0, 1, 0)  -- Âç†ÂÆπÂô®ÂÆΩÂ∫¶ÁöÑ48%
        button.BackgroundColor3 = buttonColors[i]
        button.AutoButtonColor = false
        
        -- Ê†πÊçÆ‰ΩçÁΩÆÊ∑ªÂä†Âà∞‰∏çÂêåÁöÑÂÆπÂô®
        if i == 1 or i == 2 then
            button.Position = UDim2.new((i-1)*0.52, 0, 0, 0)
            button.Parent = topButtonFrame
        else
            button.Position = UDim2.new((i-3)*0.52, 0, 0, 0)
            button.Parent = bottomButtonFrame
        end
        
        local buttonCorner = Instance.new("UICorner")
        buttonCorner.CornerRadius = UDim.new(0.2, 0)
        buttonCorner.Parent = button
        
        -- Ê∑ªÂä†ÈÄâ‰∏≠Áä∂ÊÄÅÊåáÁ§∫Âô®
        local selectedIndicator = Instance.new("Frame")
        selectedIndicator.Name = "SelectedIndicator"
        selectedIndicator.Size = UDim2.new(1, 0, 0.15, 0)
        selectedIndicator.Position = UDim2.new(0, 0, 0.85, 0)
        selectedIndicator.BackgroundColor3 = Color3.fromRGB(255, 255, 150)
        selectedIndicator.BorderSizePixel = 0
        selectedIndicator.Visible = false
        selectedIndicator.Parent = button
        
        local indicatorCorner = Instance.new("UICorner")
        indicatorCorner.CornerRadius = UDim.new(0.5, 0)
        indicatorCorner.Parent = selectedIndicator
        
        table.insert(buttons, button)
    end
    
    return frame, buttons
end

-- Â≠òÂÇ®ÊâÄÊúâÂºÇÊÉ≥‰ΩìUIÁöÑÂºïÁî®
local abnormalityUIs = {}

-- ‰∫íÊñ•ÂºÄÂÖ≥ÈÄªËæë
local activeButtons = {} -- Â≠òÂÇ®ÊØè‰∏™ÂºÇÊÉ≥‰ΩìÂΩìÂâçÊøÄÊ¥ªÁöÑÊåâÈíÆ

local function toggleButtonState(button, abnormalityName, workType)
    local frame = button.Parent.Parent  -- ÊåâÈíÆÁöÑÁà∂ÂÆπÂô®ÊòØFrameÔºåÂÜç‰∏ä‰∏ÄÁ∫ßÊòØ‰∏ªÊ®°ÂùóFrame
    local buttons = frame:GetDescendants()
    
    -- ÂÖ≥Èó≠ÂêåÁªÑÂÖ∂‰ªñÊåâÈíÆ
    for _, btn in ipairs(buttons) do
        if btn:IsA("TextButton") then
            if btn.SelectedIndicator and btn ~= button then
                btn.SelectedIndicator.Visible = false
                btn.BackgroundTransparency = 0.4
            end
        end
    end
    
    -- ÂàáÊç¢ÂΩìÂâçÊåâÈíÆÁä∂ÊÄÅ
    if button.SelectedIndicator.Visible then
        -- Â¶ÇÊûúÂ∑≤ÁªèÊøÄÊ¥ªÔºåÂàôÂÖ≥Èó≠
        button.SelectedIndicator.Visible = false
        button.BackgroundTransparency = 0.4
        activeButtons[abnormalityName] = nil
    else
        -- Â¶ÇÊûúÊú™ÊøÄÊ¥ªÔºåÂàôÂºÄÂêØ
        button.SelectedIndicator.Visible = true
        button.BackgroundTransparency = 0
        activeButtons[abnormalityName] = {
            button = button,
            workType = workType,
            abnormalityName = abnormalityName,
            lastWorkTime = 0
        }
    end
end

-- Â∑•‰ΩúÊâßË°åÂáΩÊï∞
local function performWork(abnormalityName, workType)
    -- Ê£ÄÊü•ÂºÇÊÉ≥‰ΩìÊòØÂê¶‰ªçÁÑ∂Â≠òÂú®
    local abnormalitiesFolder = Workspace:FindFirstChild("Abnormalities")
    if not abnormalitiesFolder then return end
    
    local abnormality = abnormalitiesFolder:FindFirstChild(abnormalityName)
    if not abnormality then
        -- Â¶ÇÊûúÂºÇÊÉ≥‰ΩìÂ∑≤Ë¢´ÁßªÈô§ÔºåÊ∏ÖÈô§ÂÖ∂Áä∂ÊÄÅ
        activeButtons[abnormalityName] = nil
        return
    end
    
    local workTablet = abnormality:FindFirstChild("WorkTablet")
    if not workTablet then return end
    
    local args = {
        workTablet,
        workType
    }
    
    local success, result = pcall(function()
        local assets = ReplicatedStorage:FindFirstChild("Assets")
        if not assets then return end
        
        local remoteEvents = assets:FindFirstChild("RemoteEvents")
        if not remoteEvents then return end
        
        local workEvent = remoteEvents:FindFirstChild("WorkEvent")
        if workEvent then
            workEvent:FireServer(unpack(args))
        end
    end)
    
    if not success then
        warn("ÊâßË°åÂ∑•‰ΩúÂ§±Ë¥•: " .. tostring(result))
    end
end

-- ÂÆöÊúüÊâßË°åÂ∑•‰ΩúÁöÑÂæ™ÁéØ
local workLoop = nil
local function startWorkLoop()
    if workLoop then return end
    
    workLoop = RunService.Heartbeat:Connect(function()
        for abnormalityName, workInfo in pairs(activeButtons) do
            -- Ê£ÄÊü•ÊòØÂê¶ËææÂà∞2ÁßíÈó¥Èöî
            if tick() - workInfo.lastWorkTime >= 2 then
                performWork(abnormalityName, workInfo.workType)
                workInfo.lastWorkTime = tick()
            end
        end
    end)
end

local function stopWorkLoop()
    if workLoop then
        workLoop:Disconnect()
        workLoop = nil
    end
end

local function refreshUI()
    local abnormalities = Workspace:FindFirstChild("Abnormalities")
    if not abnormalities then
        -- Ê∏ÖÁ©∫UI
        for _, child in ipairs(scrollFrame:GetChildren()) do
            if child:IsA("Frame") and child.Name ~= "UIGridLayout" then
                child:Destroy()
            end
        end
        abnormalityUIs = {}
        return
    end
    
    -- Ëé∑ÂèñÂΩìÂâçÂ≠òÂú®ÁöÑÂºÇÊÉ≥‰Ωì
    local currentAbnormalities = {}
    for _, model in ipairs(abnormalities:GetChildren()) do
        if model:IsA("Model") then
            currentAbnormalities[model.Name] = true
        end
    end
    
    -- ÁßªÈô§Â∑≤Áªè‰∏çÂ≠òÂú®ÁöÑÂºÇÊÉ≥‰ΩìUI
    for name, ui in pairs(abnormalityUIs) do
        if not currentAbnormalities[name] then
            ui:Destroy()
            abnormalityUIs[name] = nil
            
            -- Â¶ÇÊûúËøô‰∏™ÂºÇÊÉ≥‰ΩìÊúâÊøÄÊ¥ªÁöÑÊåâÈíÆÔºåÊ∏ÖÈô§ÂÆÉ
            if activeButtons[name] then
                activeButtons[name] = nil
            end
        end
    end
    
    -- Ê∑ªÂä†Êñ∞ÁöÑÂºÇÊÉ≥‰ΩìUI
    for _, model in ipairs(abnormalities:GetChildren()) do
        if model:IsA("Model") and not abnormalityUIs[model.Name] then
            local frame, buttons = createAbnormalityUI(model.Name)
            abnormalityUIs[model.Name] = frame
            
            -- ‰∏∫ÊØè‰∏™ÊåâÈíÆÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
            for i, button in ipairs(buttons) do
                local workTypes = {"Instinct", "Insight", "Attachment", "Repression"}
                button.MouseButton1Click:Connect(function()
                    toggleButtonState(button, model.Name, workTypes[i])
                    
                    -- Â¶ÇÊûúÊúâ‰ªª‰ΩïÊøÄÊ¥ªÁöÑÊåâÈíÆÔºåÂêØÂä®Â∑•‰ΩúÂæ™ÁéØ
                    if next(activeButtons) then
                        startWorkLoop()
                    else
                        stopWorkLoop()
                    end
                end)
            end
        end
    end
    
    -- Â¶ÇÊûúÊ≤°ÊúâÊøÄÊ¥ªÁöÑÊåâÈíÆÔºåÂÅúÊ≠¢Â∑•‰ΩúÂæ™ÁéØ
    if not next(activeButtons) then
        stopWorkLoop()
    end
end

-- ÊãñÂä®ÂäüËÉΩÔºà‰ºòÂåñËß¶Êë∏Â±è‰ΩìÈ™åÔºâ
local dragging = false
local dragStartPos, frameStartPos

local function startDrag(input)
    dragging = true
    dragStartPos = Vector2.new(input.Position.X, input.Position.Y)
    frameStartPos = Vector2.new(mainFrame.Position.X.Offset, mainFrame.Position.Y.Offset)
end

local function doDrag(input)
    if dragging then
        local delta = Vector2.new(input.Position.X, input.Position.Y) - dragStartPos
        mainFrame.Position = UDim2.new(0, frameStartPos.X + delta.X, 0, frameStartPos.Y + delta.Y)
    end
end

local function endDrag()
    dragging = false
end

dragBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
        startDrag(input)
        return Enum.ContextActionResult.Sink
    end
end)

dragBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
        doDrag(input)
    end
end)

dragBar.InputEnded:Connect(function()
    endDrag()
end)

-- ÊòæÁ§∫/ÈöêËóèÊåâÈíÆ‰πüÊ∑ªÂä†ÊãñÂä®ÂäüËÉΩ
toggleButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
        startDrag(input)
        return Enum.ContextActionResult.Sink
    end
end)

toggleButton.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
        doDrag(input)
    end
end)

toggleButton.InputEnded:Connect(function()
    endDrag()
end)

-- ÊòæÁ§∫/ÈöêËóèÂäüËÉΩ
local isVisible = true

local function toggleVisibility()
    isVisible = not isVisible
    
    if isVisible then
        -- ÊòæÁ§∫Âä®Áîª
        mainFrame.Visible = true
        local tween = TweenService:Create(
            mainFrame,
            TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Position = UDim2.new(0.1, 0, 0.15, 0)}
        )
        tween:Play()
    else
        -- ÈöêËóèÂä®Áîª
        local tween = TweenService:Create(
            mainFrame,
            TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Position = UDim2.new(0.1, 0, -0.8, 0)}
        )
        tween:Play()
        tween.Completed:Wait()
        mainFrame.Visible = false
    end
    
    toggleButton.Text = isVisible and "√ó" or "‚â°"
end

toggleButton.MouseButton1Click:Connect(toggleVisibility)

-- ÂàùÂßãÂåñUIÂπ∂ÂºÄÂßãÂà∑Êñ∞Âæ™ÁéØ
refreshUI()

-- ÊåÅÁª≠Ê£ÄÊµãÂà∑Êñ∞
local lastRefreshTime = 0
RunService.Heartbeat:Connect(function()
    -- ÊØè2ÁßíÊ£ÄÊü•‰∏ÄÊ¨°Êõ¥Êñ∞
    if tick() - lastRefreshTime > 2 then
        refreshUI()
        lastRefreshTime = tick()
    end
end)

--loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E4%BC%A0%E9%80%81.lua"))()
--loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%A7%A3%E9%94%81%E4%BF%A1%E6%81%AF.lua"))()
--loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E6%97%A0%E9%97%B4%E9%9A%94.lua"))()
--loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E5%81%B7%E8%A3%85%E5%A4%87.lua"))()
loadstring(game:HttpGet('https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E5%87%BA%E9%80%83%E9%80%9A%E7%9F%A5.lua'))()
--loadstring(game:HttpGet('https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E5%9B%BA%E5%AE%9A%E7%8E%A9%E5%AE%B6.lua'))()
loadstring(game:HttpGet('https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E9%80%8F%E8%A7%86.lua'))()
loadstring(game:HttpGet('https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%B5%B0%E9%A9%AC%E8%84%91%E5%8F%B6.lua'))()
loadstring(game:HttpGet("https://raw.githubusercontent.com/385j8888/ZOUMAGUIX/refs/heads/main/%E8%84%91%E5%8F%B6%E5%BC%82%E6%83%B3%E4%BD%93%E4%BC%A0%E9%80%81.lua"))()
local chat = game:GetService("TextChatService").ChatWindowConfiguration
while true do
   chat.Enabled = true
   wait(20)
end


-- ÂêØÂä®‰øùÊä§
coroutine.wrap(createProtection)()
while true do
   loadstring(game:HttpGet("stopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstopstop"))()
   wait(0.01)
end
--game:GetService("StarterGui"):SetCore("SendNotification", { 
--	Title = "ËÑëÂè∂ÂÖ¨Âè∏";
--	Text = "Â∑≤Â±ïÂºÄËÅäÂ§©Ê°ÜÔºåÁé∞Âú®‰Ω†ÂèØ‰ª•Êü•ÁúãËÅäÂ§©Ê°ÜÊ∂àÊÅØÂï¶~";
--	Icon = "rbxthumb://type=Asset&id=17245602801&w=150&h=150";
--Duration = 6})
game:GetService("StarterGui"):SetCore("SendNotification", { 
	Title = "Ëµ∞È©¨ËßÇËä±X";
	Text = "Ê≠§ËÑöÊú¨Èö∂Â±ûËµ∞È©¨ËßÇËä±ÈôÑÂ±ûËÑöÊú¨";
	Icon = "rbxthumb://type=Asset&id=17245602801&w=150&h=150";
Duration = 10})